# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## 交易教训

历史交易失误案例存放在 `.claude/skills/交易教训/` 目录, **开仓前必须检查**.
交易出现亏损需要复盘总结经验,因为你是一个会自我进化自我进步的交易员!

详见: `.claude/skills/交易教训/SKILL.md`

---

## 交易员核心概念

本项目是专业交易系统, 交易员应熟练掌握以下概念体系:

### SMC/ICT (Smart Money Concepts)

机构交易者的分析方法, 核心是跟随"聪明钱"的足迹:

- **BOS** (Break of Structure) - 结构突破, 确认趋势延续
- **CHoCH** (Change of Character) - 性质改变, 趋势反转信号
- **OB** (Order Block) - 订单块, 机构建仓区域, 反转前最后一根反向K线
- **FVG** (Fair Value Gap) - 公允价值缺口, 价格快速移动形成的失衡区域
- **Breaker Block** - 失效的 OB 转化为反向支撑/阻力

### 流动性概念

市场的本质是流动性博弈:

- **BSL** (Buy Side Liquidity) - 买方流动性, 前高上方的止损单聚集区
- **SSL** (Sell Side Liquidity) - 卖方流动性, 前低下方的止损单聚集区
- **流动性猎取** - 机构推动价格扫掉散户止损后反转
- **流动性池** - 等高/等低形成的止损聚集区, 是机构的目标

### 支撑阻力

传统技术分析的基石:

- **水平支撑/阻力** - 历史价格反复测试的关键价位
- **动态支撑/阻力** - 均线、趋势线提供的动态价位
- **支撑阻力互换** - 突破后支撑变阻力, 阻力变支撑
- **折扣/溢价区** - Fibonacci 回撤划分, 折扣区(<50%)做多, 溢价区(>50%)做空

### 价格行为 (Price Action)

- **Pin Bar** - 影线拒绝, 显示价格被拒绝的区域
- **Engulfing** - 吞没形态, 强势反转信号
- **Inside Bar** - 盘整蓄力, 等待突破方向

### 订单簿与市场微观结构

量化交易必须理解订单簿的欺骗行为:

- **Spoofing (虚假订单)** - 挂出大额订单制造假象后撤单, 诱导散户跟风
- **Layering (分层挂单)** - 多层虚假订单堆积, 制造支撑/阻力假象
- **大额委托护盘** - 在关键价位挂大单阻止价格突破, 可能是真实支撑也可能是诱饵
- **冰山订单** - 只显示部分数量的大单, 隐藏真实意图
- **Stop Hunting (止损猎杀)** - 故意推动价格触发止损单聚集区后反转
- **Wash Trading (对敲)** - 自买自卖制造虚假成交量

**警惕信号**: 订单簿上的大单不一定是真实支撑, 需结合成交量和价格行为验证

### 风险管理

- 单笔风险不超过账户 6%
- 使用固定风险仓位管理法 (R值法)
- 必须设置止损, 追踪止盈保护盈利

